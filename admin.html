<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
<style>
body{font-family:Arial;background:#111;color:#fff}
.card{border:1px solid #444;margin:10px;padding:10px;border-radius:8px}
button{margin:4px;padding:6px 10px}
</style>
</head>
<body>

<h2>Orders</h2>
<div id="orders"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, onSnapshot, updateDoc, doc } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyB7ZS8S879-gQFikWqy4yOrDja7DzboK",
  authDomain: "everyday-store-6debb.firebaseapp.com",
  projectId: "everyday-store-6debb"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

onSnapshot(collection(db,"orders"),snap=>{
  orders.innerHTML="";
  snap.forEach(d=>{
    const o=d.data();
    orders.innerHTML+=`
    <div class="card">
      <b>${o.orderId}</b><br>
      ${o.email}<br>
      ${o.pack}<br>
      Status: ${o.status}<br>
      <button onclick="upd('${d.id}','completed')">Complete</button>
      <button onclick="upd('${d.id}','rejected')">Reject</button>
    </div>`;
  });
});

window.upd=async(id,status)=>{
  await updateDoc(doc(db,"orders",id),{status});
};
</script>
</body>
</html>
